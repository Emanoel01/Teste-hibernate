package tests;

import javax.persistence.EntityManager;
import javax.persistence.EntityManagerFactory;
import javax.persistence.Persistence;

import DAO.ClienteDAO;
import conection.ConectionFactory;
import model.Cliente;

public class ClienteTeste {
	
	public static void main(String[] args) {
	
		
		
		
		//Para a persistencia é necessario criar um entityManager, como temos o arquivo persistence em META-INF, criamos o entityManager desta forma.
		
		
		
		//EntityManager emCliente = new ConectionFactory().getConection();
		
		
		//Após criar o entityManager precisamos criar uma transação para realizar a persistencia
		//Para criar a transação precisamos apenas pegar o metodo do entityManager, exemplo:
		
		//emCliente.getTransaction().begin();
		
		//Caso a tabela não esteja feita no banco, utilizamos o metodo persistence para cria-la, já que ela está mapeada com as anotações do javax.
		
		//emCliente.persist(c);
		
		//Para inserir os dados na tabela utilizamos o metodo commit
		
		//emCliente.getTransaction().commit();
		
		
		//Depois de tudo feito precisamos apenas fechar o entityManager e o entityManagerFactory
		
		//emCliente.close();
		
		ClienteDAO dao = new ClienteDAO();
		
		Cliente clienteSalvo =  dao.saveCliente(c);
		
		System.out.println(c);
		
		
		
		
		
		
	}

}
